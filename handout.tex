\documentclass[a4paper,12pt,twoside]{memoir}
\usepackage{fancyhdr}	% For headers and footers
\usepackage[literate]{listings}	% Required for insertion of code
\usepackage{courier}	% Required for the courier font
\usepackage[usenames,dvipsnames]{color} % Required for custom colors
\usepackage[table]{xcolor}
\usepackage[pdftex]{graphicx}
\usepackage{hyperref}
\usepackage{fullpage}	% See http://en.wikibooks.org/wiki/LaTeX/Page_Layout#Manual_Page_Formatting for layout
\usepackage{enumitem}
%\usepackage[parfill]{parskip}	% Don't indent the first line of paragraphs
\linespread{1} % Line spacing
\usepackage{mdframed}
\usepackage{parskip}
\setlength{\parskip}{0.5cm}
\usepackage{etoolbox}
\usepackage[nobottomtitles]{titlesec}
\usepackage[section]{placeins}
\setlength{\parindent}{0pt}
%\usepackage{ifthen}
%\usepackage{array}
% packages for Creative Commons Licences
\usepackage{xmpincl}
\includexmp{licences/CC_Attribution_3.0_Unported}	% includes XML metadata into the PDF
\usepackage{scrextend}
\usepackage{microtype}
\usepackage{accsupp}
\usepackage{textcomp}

% config display of hyperlinks
\hypersetup{
    colorlinks=true,		    % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=blue           % color of external links
}

% config default listings
%\lstset{language=}
%\lstloadlanguages{sh}		% Load shell syntax for listings, for a list of other languages supported see: ftp://ftp.tex.ac.uk/tex-archive/macros/latex/contrib/listings/listings.pdf
% \lstset{language=sh,		% Use shell in this example
%         frame=single,		% Single frame around code
%         frameround=tttt,
%         basicstyle=\small\ttfamily, % Use small true type font
%         %keywordstyle=[1]\color{Blue}\bf, % Perl functions bold and blue
%         %keywordstyle=[2]\color{Purple}, % Perl function arguments purple
%         %keywordstyle=[3]\color{Blue}\underbar, % Custom functions underlined and blue
%         %identifierstyle=, % Nothing special about identifiers                                         
%         %commentstyle=\usefont{T1}{pcr}{m}{sl}\color{MyDarkGreen}\small, % Comments small dark green courier font
%         %stringstyle=\color{Purple}, % Strings are purple
%         showstringspaces=false, % Don't put marks in string spaces
%         %tabsize=5, % 5 spaces per tab
%         %
%         % Put standard functions not included in the default language here
%         %morekeywords={rand},
%         %
%         % Put function parameters here
%         %morekeywords=[2]{on, off, interp},
%         %
%         % Put user defined functions here
%         %morekeywords=[3]{test},
%        	%
%         %morecomment=[l][\color{Blue}]{...}, % Line continuation (...) like blue comment
%         numbers=left, % Line numbers on left
%         firstnumber=1, % Line numbers start with line 1
%         numberstyle=\tiny\color{Blue}, % Line numbers are blue and small
%         stepnumber=5, % Line numbers go in steps of 5
%         backgroundcolor=\color{black!5},
%         linewidth=\linewidth,
%         xleftmargin=1cm,
%         xrightmargin=1cm,
%         breaklines=true,
%         breakatwhitespace=true,
% }
\definecolor{darkgreen}{rgb}{0,0.9,0}
\newcommand{\noncopytext}[1]{%
    \BeginAccSupp{method=escape,ActualText={}}%
    #1%
    \EndAccSupp{}%
}
\lstset{ %
%    language=sh,                    % the language of the code
    columns=fullflexible,
    upquote=true,
    aboveskip=5pt,
    belowskip=10pt,
    basicstyle=\small\ttfamily,      % the size of the fonts that are used for the code
    numbers=left,                    % where to put the line-numbers
    numberstyle=\tiny\color{black!85}\noncopytext,  % the style that is used for the line-numbers
    stepnumber=1,                    % the step between two line-numbers. If it's 1, each line 
%                                    % will be numbered
    numbersep=10pt,                  % how far the line-numbers are from the code
    backgroundcolor=\color{black!5}, % choose the background color. You must add \usepackage{color}
    showspaces=false,                % show spaces adding particular underscores
    showstringspaces=false,          % underline spaces within strings
    showtabs=false,                  % show tabs within strings adding particular underscores
    xleftmargin=20pt,
    xrightmargin=10pt,
    framerule=3pt,
    frame=leftline,                  % adds a frame around the code
    rulecolor=\color{darkgreen},     % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
    tabsize=2,                       % sets default tabsize to 2 spaces
    breaklines=true,                 % sets automatic line breaking
    breakatwhitespace=true,          % sets if automatic breaks should only happen at whitespace
    breakindent=20pt,
    breakautoindent=true,
    literate={*}{{\char42}}{1}
             {~}{{\texttildelow}}{1} % reformat the high tilde to a normal tile which looks good for printing and is copy-and-pastable
             {-}{{\char45}}{1},
}

% disables chapter, section and subsection numbering
\setcounter{secnumdepth}{-1} 


% This allows stuff on the same line to be vertically centered with respect of each other
\def\vcent#1{\mathsurround0pt$\vcenter{\hbox{#1}}$}
\def\vtp#1{\mathsurround0pt$\vtop{\hbox{#1}}$}

% config ...
\setlength{\topskip}{0.75cm}
\definecolor{warningshade}{rgb}{1,0.85,0.85}
\definecolor{questionshade}{rgb}{1,0.95,0.85}
\mdfsetup{
  leftmargin=0pt,
  skipabove=5pt,
  rightmargin=0pt,
  skipbelow=10pt,
  %splittopskip=0pt,
  %splitbottomskip=0pt,
  innermargin=0pt,
  outermargin=0pt,
  innerleftmargin=0pt,
  innerrightmargin=0pt,
  innertopmargin=0pt,
  innerbottommargin=0pt,
  leftline=false,
  topline=false,
  rightline=false,
  bottomline=false,
  linecolor=black,
  linewidth=1pt,
  roundcorner=5pt,
}
\newmdenv[
  backgroundcolor=warningshade,
  leftline=true,
  topline=true,
  rightline=true,
  bottomline=true,
  innerleftmargin=10pt,
  innerrightmargin=10pt,
  innertopmargin=10pt,
  innerbottommargin=10pt,
  nobreak=true,
   ]{warning*}
\newmdenv[
  backgroundcolor=questionshade,
  leftline=true,
  topline=true,
  rightline=true,
  bottomline=true,
  innerleftmargin=10pt,
  innerrightmargin=10pt,
  innertopmargin=10pt,
  innerbottommargin=10pt,
  skipabove=15pt,
  skipbelow=20pt,
  nobreak=true,
   ]{questions*}

\newlength{\iconspacinglength}
\setlength{\iconspacinglength}{0.5cm}
\newcommand{\iconspacing}{\iconspacinglength}

\newenvironment{steps}{%
%\begin{steps*}%
\makebox[0pt][r]{\smash{\raisebox{-.6\height}{%
\includegraphics[height=1cm]{./graphics/steps.png}%
\hspace{\iconspacinglength}%
}}}\ignorespaces%
}%
{%
%\end{steps*}%
}

\newenvironment{bonus}{%
%\begin{bonus*}%
\newpage%
\makebox[0pt][r]{%
\smash{%
\raisebox{-.6\height}{%
\includegraphics[height=1cm]{./graphics/bonus1.png}%
\hspace{\iconspacinglength}%
}%
}%
}\ignorespaces\vspace{-3em}\vspace{-\parskip}%
}%
{%
%\end{bonus*}%
}
  
\newenvironment{advanced}{%
%\begin{advanced*}%
\newpage%
\makebox[0pt][r]{%
\smash{%
\raisebox{-.6\height}{%
\includegraphics[height=1cm]{./graphics/bonus2.png}%
\hspace{\iconspacinglength}%
}%
}%
}\ignorespaces\vspace{-3em}%
}%
{%
%\end{advanced*}%
}

\newenvironment{information}{%
%\begin{information*}%
\makebox[0pt][r]{\smash{\raisebox{-.6\height}{%
\includegraphics[height=1cm]{./graphics/info.png}%
\hspace{\iconspacinglength}%
}}}\ignorespaces%
}%
{%
%\end{information*}%
}

\newenvironment{note}{%
%\begin{note*}%
\makebox[0pt][r]{\smash{\raisebox{-.6\height}{%
\includegraphics[height=1cm]{./graphics/notes.png}%
\hspace{\iconspacinglength}%
}}}\ignorespaces%
}%
{%
%\end{note*}%
}

\newenvironment{warning}{%
\begin{warning*}%
\addtolength{\iconspacinglength}{\mdflength{leftmargin}}%
\addtolength{\iconspacinglength}{\mdflength{innerleftmargin}}%
\makebox[0pt][r]{\smash{\raisebox{-.25\height}{%
\includegraphics[height=1cm]{./graphics/warning.png}%
\hspace{\iconspacinglength}%
}}}\ignorespaces%
}%
{%
\end{warning*}%
}

\newenvironment{questions}{%
\begin{questions*}%
\addtolength{\iconspacinglength}{\mdflength{leftmargin}}%
\addtolength{\iconspacinglength}{\mdflength{innerleftmargin}}%
\makebox[0pt][r]{\smash{\raisebox{-.25\height}{%
\includegraphics[height=1cm]{./graphics/questions.png}%
\hspace{\iconspacinglength}%
}}}\ignorespaces%
}%
{%
\end{questions*}%
}


\newcommand{\workshoptitlepage}{
\thispagestyle{empty}
\noindent

\begin{center}
\rule{\textwidth}{1pt}

\vspace*{\fill}
{\Huge\workshopTitle}
\vspace{2cm}

\workshopAuthor

\vfill

\rule{\textwidth}{1pt}
\begin{minipage}{0.45\textwidth}
\begin{flushleft}
\workshopVenue
\end{flushleft}
\end{minipage}
\begin{minipage}{0.45\textwidth}
\begin{flushright}
\workshopDate
\end{flushright}
\end{minipage}
\rule{\textwidth}{1pt}
\end{center}
\clearpage
}

\makechapterstyle{workshop}{%
  \chapterstyle{default}
  \renewcommand*{\chapnumfont}{\normalfont\HUGE\sffamily}
  \renewcommand*{\chaptitlefont}{\normalfont\huge\sffamily}
  \settowidth{\chapindent}{\chapnumfont 111}
  \renewcommand*{\chapterheadstart}{\begingroup
    %\vspace*{\beforechapskip}%
    \begin{adjustwidth}{}{-\chapindent}%
    \hrulefill
    \smash{\rule{0.4pt}{15mm}}
    \end{adjustwidth}\endgroup}
  \renewcommand*{\printchaptername}{}
  \renewcommand*{\chapternamenum}{}
  \renewcommand*{\printchapternum}{%
    \begin{adjustwidth}{}{-\chapindent}
    \hfill
    \raisebox{10mm}[0pt][0pt]{\chapnumfont \thechapter}%
                              \hspace*{1em}
    \end{adjustwidth}\vspace*{-3.0\onelineskip}}
  \renewcommand*{\printchaptertitle}[1]{%
    \vskip\onelineskip
    \raggedleft {\chaptitlefont ##1}\par\nobreak}
}
\chapterstyle{workshop}
\makechapterstyle{module}{%
  \chapterstyle{workshop}
  \renewcommand*{\printchaptertitle}[1]{%
    \vskip\onelineskip
    \raggedleft {\chaptitlefont Module: ##1}\par\nobreak
    \vspace{\vfill}
    Primary Author(s):\par
    \moduleAuthors\par
    \vspace{1cm}
    Contributor(s):\par
    \moduleContributions}\par
}
\aliaspagestyle{chapter}{empty}
\newcommand{\mailto}[1]{
\href{mailto:#1}{\nolinkurl{#1}}
}

\newcommand{\moduleTitle}{}
\newcommand{\moduleAuthors}{}
\newcommand{\moduleContributions}{}

%\newcolumntype{V}{>{\centering\arraybackslash} m{3cm} }

%
% Some User Defined Stuff
%
\newcommand{\workshopTitle}{Introduction to Next Generation Sequencing Hands-on Workshop}
\newcommand{\workshopVenue}{Brisbane and Adelaide, Australia}
\newcommand{\workshopDate}{Nov. 2012}
\newcommand{\workshopAuthor}{
Bioplatforms Australia (BPA)\\
The Commonwealth Scientific and Industrial Research Organisation (CSIRO)\\
%The European BioinformaticsInstitute (EBI)\\
}
%
% End User Defined Stuff
%

\pagestyle{fancy}   % for headers and footers

\fancyhead{} % clear all header fields
\fancyfoot{} % clear all footer fields
\fancyhead[LE,RO]{\slshape \leftmark}
\fancyhead[LO,RE]{\slshape \nouppercase{\rightmark}}
\fancyfoot[LE,RO]{\thepage}
%\addtolength{\headheight}{\baselineskip}
\addtolength{\headsep}{\baselineskip} 



\title{\workshopTitle}
\date{\workshopDate}
\author{\workshopAuthor}


%\includeonly{workshop_preamble.tex,rna-seq.tex}

\begin{document}

%
% Workshop Title Page
%
\workshoptitlepage

%
% CC-BY
%
\input{licence.tex}

\clearpage
\tableofcontents

\chapter{Workshop Information}

%
% Trainers Page
%
\input{trainers.tex}

%
% Workshop Preamble
%
\input{workshop_preamble.tex}

%
% QC Module
%
\input{ngs-qc/ngs-qc.tex}

%
% RNA-Seq Module
%
\input{rna-seq/rna-seq.tex}


\end{document}